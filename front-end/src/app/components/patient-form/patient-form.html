<form [formGroup]="patientForm" class="patient-form" (ngSubmit)="validateAndSubmit()">
  <!-- First Name Field -->
  <mat-form-field class="full-width">
    <mat-label>First Name</mat-label>
    <input matInput [formControl]="patientForm.controls.firstName" placeholder="Enter first name">
    @if (patientForm.controls.firstName.invalid) {
    <mat-error>
      Enter a valid first name.
    </mat-error>
    }
  </mat-form-field>

  <!-- Last Name Field -->
  <mat-form-field class="full-width">
    <mat-label>Last Name</mat-label>
    <input matInput [formControl]="patientForm.controls.lastName" placeholder="Enter last name">
    @if (patientForm.controls.lastName.invalid) {
    <mat-error>
      Enter a valid last name.
    </mat-error>
    }
  </mat-form-field>

  <!-- Gender Field -->
  <mat-form-field class="full-width">
    <mat-label>Gender</mat-label>
    <mat-select [formControl]="patientForm.controls.gender">
      @for(gender of genderOptions; track gender.value) {
      <mat-option [value]="gender.value">
        {{ gender.label }}
      </mat-option>
      }
    </mat-select>
    @if (patientForm.controls.gender.invalid) {
    <mat-error>
      Invalid gender selected.
    </mat-error>
    }
  </mat-form-field>

  <!-- Age Field -->
  <mat-form-field class="full-width">
    <mat-label>Age</mat-label>
    <input matInput type="number" [formControl]="patientForm.controls.age" placeholder="Enter age">
    @if (patientForm.controls.age.invalid) {
    <mat-error>
      Enter a valid age.
    </mat-error>
    }
  </mat-form-field>

  <!-- Favorite Color Field -->
  <mat-form-field class="full-width">
    <mat-label>Favorite Color</mat-label>
    <mat-select [formControl]="patientForm.controls.favoriteColorId">
      @for(color of colorOptions(); track color.id) {
      <mat-option [value]="color.id">
        <span class="color-option">
          <span class="color-indicator" [style.background-color]="color.hexCode"></span>
          {{ color.name }}
        </span>
      </mat-option>
      }
    </mat-select>
    @if (patientForm.controls.favoriteColorId.invalid) {
    <mat-error>
      Invalid color selected.
    </mat-error>
    }
  </mat-form-field>
</form>